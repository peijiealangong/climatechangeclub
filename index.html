<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="This is the Home page for the Climate Change Club." />
  <title>Climate Change Club | Home</title>
  <link rel="stylesheet" href="style.css" />
  <script src="javascript.js"></script>

  <!-- reCAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-68D6N5XQ6D"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-68D6N5XQ6D');
  </script>

  <style>
    #submission-message {
      display: flex;
      visibility: hidden;
      opacity: 0;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      color: black;
      font-size: 1.5rem;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
  </style>
</head>
<body>

  <!-- Navigation Bar -->
  <nav>
    <div class="nav-right">
      <ul>
        <li class="dropdown"><a href="index.html">Home</a>
          <ul class="submenu">
            <li><a href="about.html">About Us</a></li>
            <li><a href="projects.html">Our Projects</a></li>
            <li><a href="meetings.html">Upcoming Events</a></li>
          </ul>
        </li>
        <li class="dropdown"><a href="#">Resources</a>
          <ul class="submenu">
            <li><a href="notices.html">Notices</a></li>
            <li><a href="articles.html">Articles</a></li>
            <li><a href="climatechronicle.html">The Climate Chronicle</a></li>
          </ul>
        </li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Header -->
  <header>
    <h1>Welcome to the Climate Change Club!</h1>
    <p>Join us in making a difference through activism and sustainability efforts.</p>
  </header>

  <!-- Mission -->
  <section id="mission">
    <h2>üåç Our Mission</h2>
    <p>We strive to combat climate change by organizing community projects, raising awareness, and taking action.</p>
  </section>

  <!-- Approach -->
  <section>
    <h2>Our Approach</h2>
    <p>We tackle climate change directly first, then address its side effects. Prevention comes before cleanup.</p>
  </section>

  <!-- reCAPTCHA Form -->
  <section>
    <h2>Join Us</h2>
    <form action="https://recaptcha-verify.gongpeijie620.workers.dev/" method="POST">
      <div id="captcha-container">
        <div class="g-recaptcha" data-sitekey="6Ld-UHsrAAAAAJ3FK2tIX9zmgPyBOXOeb53fv7pt"></div>
      </div>
      <br />
      <input type="submit" value="Submit" />
    </form>
  </section>

  <!-- Thank-you Overlay -->
  <div id="submission-message">‚úÖ Thanks for submitting!</div>

  <!-- Footer -->
  <footer>
    <p>üåç Climate Change Club &nbsp; | &nbsp; ¬© 2025 Peijie &nbsp; | &nbsp; Built with ‚ù§Ô∏è and HTML/CSS/JavaScript</p>
  </footer>

  <!-- Script to handle overlay and CAPTCHA visibility -->
  <script>
    window.onload = () => {
      const params = new URLSearchParams(window.location.search);
      const message = document.getElementById("submission-message");
      const captcha = document.getElementById("captcha-container");

      // If form was submitted, show thank-you message and hide CAPTCHA
      if (params.get("submitted") === "true") {
        if (message) {
          message.style.visibility = "visible";
          message.style.opacity = "1";
        }

        if (captcha) captcha.style.display = "none";
        sessionStorage.setItem("captchaSubmitted", "true");

        setTimeout(() => {
          message.style.opacity = "0";
          setTimeout(() => {
            message.style.visibility = "hidden";
            const url = new URL(window.location);
            url.searchParams.delete("submitted");
            window.history.replaceState({}, document.title, url);
          }, 500);
        }, 3000);
      }

      // If already submitted in this session, hide CAPTCHA
      if (sessionStorage.getItem("captchaSubmitted") === "true") {
        if (captcha) captcha.style.display = "none";
      }
    };
  </script>

</body>
</html>
