<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Discover the Climate Change Club‚Äîour mission, projects, and how you can help fight climate change." />
  <title>Home | Climate Change Club</title>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-68D6N5XQ6D"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-68D6N5XQ6D');
  </script>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- reCAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <style>
    /* Inline styles for the demo canvas and controls (keeps everything self-contained) */
    .game-panel {
      display: flex;
      gap: 20px;
      align-items: flex-start;
      margin: 28px 0;
      flex-wrap: wrap;
    }
    #gd-canvas {
      background: linear-gradient(#0f1720, #0b1220);
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
      width: 900px;
      height: 220px;
      display: block;
    }
    .gd-controls {
      min-width: 220px;
      color: #fff;
      font-family: Poppins, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    .gd-controls h3 { margin: 0 0 8px 0; font-size: 16px; color: #fff; }
    .gd-controls label { display:block; margin:8px 0 4px; font-size:14px; }
    .gd-controls button, .gd-controls select {
      display:block;
      margin-top:6px;
      padding:8px 10px;
      border-radius:6px;
      border: none;
      background:#1f2937;
      color:#fff;
      cursor:pointer;
    }
    .gd-controls .small { padding:6px 8px; font-size:13px; }
    .gd-note { color:#cbd5e1; font-size:13px; margin-top:10px; }
  </style>
</head>
<body>
  <!-- reCAPTCHA Overlay -->
  <div id="captcha-overlay">
    <div id="captcha-box">
      <p>Please verify you're human to continue</p>
      <div class="g-recaptcha"
           data-sitekey="6Ld-UHsrAAAAAJ3FK2tIX9zmgPyBOXOeb53fv7pt"
           data-callback="captchaVerified"></div>
    </div>
  </div>

  <!-- Navigation -->
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li class="dropdown">
        <a href="about.html">About Us</a>
        <ul class="submenu">
          <li><a href="projects.html">Projects</a></li>
          <li><a href="meetings.html">Events</a></li>
        </ul>
      </li>
      <li><a href="notices.html">Notices</a></li>
      <li><a href="articles.html">Articles</a></li>
      <li><a href="climatechronicle.html">Chronicle</a></li>
      <li><a href="download.html">Download App</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <h1>Welcome to the Climate Change Club! üåé</h1>

  <!-- NEW: Geometry Dash style demo panel (canvas + controls) -->
  <section class="game-panel" aria-label="Interactive demo">
    <canvas id="gd-canvas" width="900" height="220" role="img" aria-label="Character spin and trail demo"></canvas>

    <div class="gd-controls" aria-hidden="false">
      <h3>Character</h3>
      <label for="shape-select">Shape</label>
      <select id="shape-select" aria-label="Choose shape">
        <option value="triangle">Triangle</option>
        <option value="square">Square</option>
        <option value="circle">Circle</option>
      </select>

      <label for="color-select">Color</label>
      <select id="color-select" aria-label="Choose color">
        <option value="#50dcff">Cyan</option>
        <option value="#ff7878">Coral</option>
        <option value="#ffd95a">Yellow</option>
        <option value="#8cff9a">Green</option>
        <option value="#b58cff">Purple</option>
      </select>

      <label for="trail-length">Trail length</label>
      <select id="trail-length" aria-label="Trail length">
        <option value="8">Short</option>
        <option value="12" selected>Medium</option>
        <option value="20">Long</option>
      </select>

      <label for="spin-strength">Spin strength</label>
      <select id="spin-strength" aria-label="Spin strength">
        <option value="-10">Gentle</option>
        <option value="-18" selected>Default</option>
        <option value="-28">Fast</option>
      </select>

      <button id="jump-btn" class="small" aria-label="Jump (space)">Jump (Space)</button>
      <button id="reset-btn" class="small" aria-label="Reset demo">Reset</button>

      <p class="gd-note">Tip: Press Space to jump and see the spinning trail. Use controls to customize shape, color and trail.</p>
    </div>
  </section>

  <!-- Intro Grid -->
  <section class="intro-grid">
    <div class="intro-card">
      <h2>üå± Mission</h2>
      <p>Discover how we fight climate change through education and action.</p>
      <a href="about.html" class="btn-primary">Read More</a>
    </div>
    <div class="intro-card">
      <h2>üõ†Ô∏è Projects</h2>
      <p>See our latest sustainability initiatives and student-led campaigns.</p>
      <a href="projects.html" class="btn-primary">Explore Projects</a>
    </div>
    <div class="intro-card">
      <h2>üìÖ Events</h2>
      <p>Join workshops, marches, and speaker sessions happening near you.</p>
      <a href="meetings.html" class="btn-primary">Upcoming Events</a>
    </div>
  </section>

  <!-- Survey -->
  <section>
    <h2>üìã Climate Change Club Survey</h2>
    <iframe src="https://forms.cloud.microsoft/r/3ch85QFxDB" 
            width="800" height="350" frameborder="0" 
            marginheight="0" marginwidth="0">
      Loading‚Ä¶
    </iframe>
  </section>

  <!-- Goals Section -->
  <section class="impact-stats">
    <h2>üéØ Our Goals</h2>
    <div class="stats-grid">
      <div>
        <strong>Trees to Plant</strong>
        <div class="progress-container">
          <div class="progress-bar" style="width:5%"></div>
        </div>
        <p>5% complete</p>
      </div>
      <div>
        <strong>Donations Goal ($100,000)</strong>
        <div class="progress-container">
          <div class="progress-bar" style="width:10%"></div>
        </div>
        <p>10% complete</p>
      </div>
      <div>
        <strong>Members to Empower</strong>
        <div class="progress-container">
          <div class="progress-bar" style="width:20%"></div>
        </div>
        <p>20% complete</p>
      </div>
    </div>
  </section>

  <!-- Featured Article -->
  <section class="featured-article">
    üåü Featured: "Climate Action Week Recap ‚Äì Students Lead the Charge!"
    <a href="articles.html">Read More ‚Üí</a>
  </section>

  <!-- Climate Message -->
  <section>
    <h2>üî• Climate Change: Our Challenge, Our Opportunity</h2>
    <ul>
      <li><strong>Extreme Weather:</strong> Hurricanes, wildfires, floods, and droughts are intensifying.</li>
      <li><strong>Rising Temperatures:</strong> Over 1¬∞C increase since pre-industrial times.</li>
      <li><strong>Environmental Injustice:</strong> Marginalized communities bear the brunt.</li>
    </ul>
    <h3>üí° What You Can Do</h3>
    <ul>
      <li><strong>Learn:</strong> Attend workshops and speaker events.</li>
      <li><strong>Act:</strong> Join sustainability initiatives and advocate for green policies.</li>
      <li><strong>Create:</strong> Use writing, art, or media to inspire change.</li>
    </ul>
    <p><strong>‚úä Join the Movement:</strong> The Climate Change Club is a student-powered force for the future.</p>
  </section>

  <!-- GIF Embed -->
  <section>
    <div class="tenor-gif-embed" data-postid="21239161" data-share-method="host" data-aspect-ratio="0.709375" data-width="100%">
      <a href="https://tenor.com/view/environmentalism-climate-strike-climate-march-there-is-no-planet-b-climate-action-gif-21239161">Environmentalism Climate Strike GIF</a>
      from <a href="https://tenor.com/search/environmentalism-gifs">Environmentalism GIFs</a>
    </div>
    <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
  </section>

  <!-- Color Panel -->
  <section class="color-panel">
    <h2>üé® Customize Your Background</h2>
    <button onclick="changeColor('blue')">Blue</button>
    <button onclick="changeColor('#a8dadc')">Ocean Blue</button>
    <button onclick="changeColor('#2a9d8f')">Rainforest Green</button>
    <button onclick="changeColor('#f4a261')">Sunset Orange</button>
    <button onclick="changeColor('#e63946')">Wildfire</button>
    <button onclick="changeColor('#ffcad4')">Spring Bloom</button>
    <button onclick="changeColor('#5e548e')">Midnight</button>
    <button onclick="changeColor('')">Reset</button>
  </section>

  <!-- Email Form -->
  <form id="emailForm">
    <h2>üìß Stay Updated</h2>
    <input type="email" id="email" placeholder="Enter your email" required />
    <input type="submit" value="Subscribe" />
    <p id="emailMessage"></p>
  </form>

  <!-- Modal -->
  <div id="customModal" class="modal">
    <div class="modal-content">
      <h2 id="modalTitle"></h2>
      <p id="modalMessage"></p>
      <button onclick="closeModal()">Close</button>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>üåç Climate Change Club | ¬© 2025 Peijie | Built with ‚ù§Ô∏è and HTML/CSS/JavaScript</p>
    <div class="socials">
      <a href="#"><img src="icons/twitter.svg" alt="Twitter"></a>
      <a href="#"><img src="icons/instagram.svg" alt="Instagram"></a>
      <a href="#"><img src="icons/github.svg" alt="GitHub"></a>
    </div>
  </footer>

<script>
  window.onload = () => {
    // Lock body until captcha is verified
    document.body.classList.add('captcha-lock');
    // Always force scroll to the very top
    window.scrollTo(0, 0);
  };

  function captchaVerified() {
    const overlay = document.getElementById('captcha-overlay');
    if (overlay) {
      overlay.style.display = 'none';   // hide the overlay
      document.body.classList.remove('captcha-lock'); // unlock body
      // Reset scroll again if needed
      window.scrollTo(0, 0);
    }
  }

  /* ---------------------------
     Geometry Dash style demo
     - Rotating character on jump
     - Fading trail behind the character
     - Shape and color controls
     --------------------------- */
  (function () {
    const canvas = document.getElementById('gd-canvas');
    const ctx = canvas.getContext('2d');

    // Demo world constants
    const GROUND_Y = 180; // canvas y coordinate for ground line
    const SIZE = 40;

    // Player state
    let player = {
      x: 120,
      y: GROUND_Y - SIZE,
      vy: 0,
      onGround: true,
      angle: 0,
      spinVel: 0,
      shape: 'triangle',
      color: '#50dcff'
    };

    // Trail: array of {x,y,angle,life}
    let trail = [];
    let TRAIL_MAX = 12;
    let TRAIL_LIFE = 18;

    // Physics tuning
    const GRAVITY = 0.75;
    const JUMP_V = -20.5;

    // Controls
    const shapeSelect = document.getElementById('shape-select');
    const colorSelect = document.getElementById('color-select');
    const trailLength = document.getElementById('trail-length');
    const spinStrength = document.getElementById('spin-strength');
    const jumpBtn = document.getElementById('jump-btn');
    const resetBtn = document.getElementById('reset-btn');

    // Initialize from controls
    function applyControls() {
      player.shape = shapeSelect.value;
      player.color = colorSelect.value;
      TRAIL_MAX = parseInt(trailLength.value, 10) || 12;
    }
    applyControls();

    // Input handlers
    window.addEventListener('keydown', (e) => {
      if (e.code === 'Space') {
        e.preventDefault();
        doJump();
      }
    });
    jumpBtn.addEventListener('click', doJump);
    resetBtn.addEventListener('click', resetDemo);
    shapeSelect.addEventListener('change', applyControls);
    colorSelect.addEventListener('change', applyControls);
    trailLength.addEventListener('change', applyControls);
    spinStrength.addEventListener('change', () => {
      // no immediate action; used on jump
    });

    function doJump() {
      if (player.onGround) {
        player.vy = JUMP_V;
        player.onGround = false;
        player.spinVel = parseFloat(spinStrength.value) || -18;
      }
    }

    function resetDemo() {
      player.x = 120;
      player.y = GROUND_Y - SIZE;
      player.vy = 0;
      player.onGround = true;
      player.angle = 0;
      player.spinVel = 0;
      trail = [];
    }

    // Draw helpers
    function drawGround() {
      ctx.fillStyle = '#0b1220';
      ctx.fillRect(0, GROUND_Y + SIZE/2, canvas.width, canvas.height - (GROUND_Y + SIZE/2));
      ctx.strokeStyle = '#ffffff22';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(0, GROUND_Y + SIZE/2);
      ctx.lineTo(canvas.width, GROUND_Y + SIZE/2);
      ctx.stroke();
    }

    function drawShape(cx, cy, size, angle, color, alpha = 1) {
      ctx.save();
      ctx.translate(cx, cy);
      ctx.rotate(angle * Math.PI / 180);
      ctx.globalAlpha = alpha;
      ctx.fillStyle = color;
      ctx.strokeStyle = '#ffffff';
      ctx.lineWidth = 2;

      if (player.shape === 'square') {
        ctx.fillRect(-size/2, -size/2, size, size);
        ctx.strokeRect(-size/2, -size/2, size, size);
      } else if (player.shape === 'circle') {
        ctx.beginPath();
        ctx.arc(0, 0, size/2, 0, Math.PI * 2);
        ctx.fill();
        ctx.stroke();
      } else { // triangle
        ctx.beginPath();
        ctx.moveTo(-size/2, size/2);
        ctx.lineTo(size/2, size/2);
        ctx.lineTo(0, -size/2);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
      }

      ctx.restore();
      ctx.globalAlpha = 1;
    }

    function update() {
      // physics
      player.vy += GRAVITY;
      player.y += player.vy;

      // ground collision
      if (player.y + SIZE >= GROUND_Y) {
        player.y = GROUND_Y - SIZE;
        player.vy = 0;
        player.onGround = true;
        // settle rotation when grounded
        player.angle *= 0.6;
        player.spinVel = 0;
      } else {
        // in air: rotate and decay spin
        player.angle += player.spinVel;
        player.spinVel *= 0.98;
      }

      // push trail sample
      trail.unshift({
        x: player.x + SIZE/2,
        y: player.y + SIZE/2,
        angle: player.angle,
        life: TRAIL_LIFE
      });
      if (trail.length > TRAIL_MAX) trail.pop();

      // decay trail life
      for (let i = 0; i < trail.length; i++) {
        trail[i].life--;
      }
      while (trail.length && trail[trail.length - 1].life <= 0) trail.pop();
    }

    function render() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // background subtle gradient
      const g = ctx.createLinearGradient(0, 0, 0, canvas.height);
      g.addColorStop(0, '#071018');
      g.addColorStop(1, '#08121a');
      ctx.fillStyle = g;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      drawGround();

      // draw trail back-to-front (older first)
      for (let i = trail.length - 1; i >= 0; i--) {
        const t = trail[i];
        const alpha = Math.max(0.05, (t.life / TRAIL_LIFE) * 0.7);
        // draw faded shape using current selected color
        const savedShape = player.shape;
        // temporarily draw the shape type that was active when sample was taken
        drawShape(t.x, t.y, SIZE, t.angle, player.color, alpha);
      }

      // draw player on top
      drawShape(player.x + SIZE/2, player.y + SIZE/2, SIZE, player.angle, player.color, 1);
    }

    function loop() {
      update();
      render();
      requestAnimationFrame(loop);
    }

    // Start the demo loop
    loop();
  })();

  /* Utility: change page background color (used by existing buttons) */
  function changeColor(val) {
    if (!val) {
      document.body.style.background = '';
      return;
    }
    document.body.style.background = val;
  }
</script>
</body>
</html>
